{% extends 'base.html.twig' %}

{% block body %}
	<h1 class="border-bottom border-4 ">Connections, By Server,
		{{range}}
		</h1>
		<h3>View Connections By</h3>

		<div class="dropdown">
			<a class="btn btn-secondary dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
				Year
			</a>
			<ul class="dropdown-menu">
				{% for y in years %}
					<li>
						<a class="dropdown-item" href="?year={{y}}">{{y}}</a>
					</li>
				{% endfor %}
			</ul>
		</div>


		<script>
			const rawData = {{ connections|json_encode|raw }};
		</script>
		{{ encore_entry_script_tags('connectionChart') }}

		<style>
			.chart-container {
				position: relative;
				width: 100%;
				height: 512px;
			}
		</style>

		<div class="chart-container">
			<canvas id="serverChart"></canvas>
		</div>

	{% endblock %}
